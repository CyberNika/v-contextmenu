import{i as e,d as t,r as l,c as n,a as u,w as o,o as a,p as s,b as i,e as d,f as r,T as c,n as m,v as p,g as f,G as v,h,R as x,F as g,j as b,k as _,C as y,A as w,W as C,l as k}from"./vendor.66c5e977.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(l){const n=new URL(e,location),u=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((l,o)=>{const a=new URL(e,n);if(self[t].moduleMap[a])return l(self[t].moduleMap[a]);const s=new Blob([`import * as m from '${a}';`,`${t}.moduleMap['${a}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){o(new Error(`Failed to import: ${e}`)),u(i)},onload(){l(self[t].moduleMap[a]),u(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/v-contextmenu/assets/");const $=(t,l)=>{var n;const u=l.arg;if(!u)return void console.error("参数有误");const o=l.value,a=e(u)?u.value:null==(n=l.instance)?void 0:n.$refs[u];a?"function"==typeof a.addReference?(t.$contextmenuKey=u,a.addReference(t,o)):console.error(`${u} 对应的实例不是 VContextmenu`):console.error(`没有找到 ${u} 对应的实例`)},M=(e,t)=>{var l;const n=e.$contextmenuKey;if(!n)return;const u=null==(l=t.instance)?void 0:l.$refs[n];null==u||u.removeReference(e)},R={mounted:$,updated:(e,t)=>{M(e,t),$(e,t)},beforeUnmount:M},j="v-contextmenu",L="v-contextmenu-icon",B="v-contextmenu-inner",D="v-contextmenu-divider",E="v-contextmenu-item",O="v-contextmenu-item--hover",S="v-contextmenu-item--disabled",I="v-contextmenu-group",A="v-contextmenu-group__title",T="v-contextmenu-group__menus",W="v-contextmenu-submenu",V="v-contextmenu-submenu__title",P="v-contextmenu-submenu__menus",G="v-contextmenu-submenu__menus--top",H="v-contextmenu-submenu__menus--right",U="v-contextmenu-submenu__menus--bottom",Y="v-contextmenu-submenu__menus--left",X="v-contextmenu-submenu__arrow";const N=["contextmenu"],q=t({name:"VContextmenu",props:{modelValue:{type:Boolean,default:!1},autoAjustPlacement:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},teleport:{type:[String,Object],default:()=>"body"}},emits:["show","hide","update:modelValue"],setup(e,{emit:t}){const i=l(null),d=l(e.modelValue||!1),r=e=>{d.value=e,t("update:modelValue",e)},c=l({top:0,left:0}),p=n((()=>({top:`${c.value.top}px`,left:`${c.value.left}px`}))),f=l(null),v=(l,n)=>{var u,o;const a=l instanceof Event?n:l,s=(null==a?void 0:a.autoAjustPlacement)||e.autoAjustPlacement,d={top:(null==a?void 0:a.top)||0,left:(null==a?void 0:a.left)||0};l instanceof Event&&(l.preventDefault(),d.top=null!=(u=null==a?void 0:a.top)?u:l.pageY,d.left=null!=(o=null==a?void 0:a.left)?o:l.pageX),r(!0),m((()=>{if(s){const e=i.value;if(!e)return;const t=e.clientWidth,l=e.clientHeight;if(l+d.top>=window.innerHeight+window.scrollY){const e=d.top-l;e>window.scrollY&&(d.top=e)}if(t+d.left>=window.innerWidth+window.scrollX){const e=d.left-t;e>window.scrollX&&(d.left=e)}}c.value=d,t("show")}))},h=()=>{f.value=null,r(!1),t("hide")},x=u(new Map),g=l(),b=n((()=>g.value&&x.get(g.value))),_=e=>{if(!e.target||!i.value||!g.value)return;i.value.contains(e.target)||b.value&&b.value.triggers.includes("click")&&g.value.contains(e.target)||r(!1)};return o(d,(e=>{e?document.addEventListener("click",_):document.removeEventListener("click",_)})),a((()=>{document.removeEventListener("click",_)})),s("visible",d),s("autoAjustPlacement",e.autoAjustPlacement),s("show",v),s("hide",h),{visible:d,style:p,currentReferenceOptions:b,currentOptions:f,contextmenuRef:i,addReference:(t,l)=>{const n=(null==l?void 0:l.trigger)?Array.isArray(l.trigger)?l.trigger:[l.trigger]:N,u=l=>{e.disabled||(g.value=t,v(l,{}))};n.forEach((e=>{t.addEventListener(e,u)})),x.set(t,{triggers:n,handler:u})},removeReference:e=>{const t=x.get(e);t&&(t.triggers.forEach((l=>{e.removeEventListener(l,t.handler)})),x.delete(e))},toggle:r,show:v,hide:h}},methods:{renderContent(){var e,t;return i(d("div",{class:j,ref:"contextmenuRef",style:this.style},[d("ul",{class:B},[null==(t=(e=this.$slots).default)?void 0:t.call(e,{triggerOptions:"currentReferenceOptions",options:"currentOptions"})])]),[[p,"visible"]])}},render(){let e;return this.visible?this.teleport?d(c,{to:this.teleport},"function"==typeof(t=e=this.renderContent())||"[object Object]"===Object.prototype.toString.call(t)&&!r(t)?e:{default:()=>[e]}):this.renderContent():null;var t}}),F=t({name:"VContextmenuItem",props:{disabled:{type:Boolean,default:!1},hideOnClick:{type:Boolean,default:!0}},emits:["click","mouseenter","mouseleave"],setup(e,{emit:t}){const u=f("hide"),o=l(!1);return{classes:n((()=>({[E]:!0,[S]:e.disabled,[O]:o.value}))),handleClick:l=>{e.disabled||(t("click",l),e.hideOnClick&&(null==u||u()))},handleMouseenter:l=>{e.disabled||(o.value=!0,t("mouseenter",l))},handleMouseleave:l=>{e.disabled||(o.value=!1,t("mouseleave",l))}}},render(){var e,t;return d("li",{class:this.classes,onClick:this.handleClick,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[null==(t=(e=this.$slots).default)?void 0:t.call(e)])}}),J=t({name:"VContextmenuDivider",render:()=>d("li",{class:D},null)}),z=t({name:"VContextmenuIcon",props:{name:{type:String,required:!0}},render(){return d("i",{class:[L,`${L}-${this.name}`]},null)}}),K=t({name:"VContextmenuSubmenu",props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["mouseenter","mouseleave"],setup(e,{emit:t}){const u=l(null),o=f("autoAjustPlacement"),a=l(["top","right"]),s=l(!1),i=n((()=>({[E]:!0,[V]:!0,[O]:s.value,[S]:e.disabled}))),d=n((()=>({[j]:!0,[P]:!0,[G]:a.value.includes("top"),[H]:a.value.includes("right"),[U]:a.value.includes("bottom"),[Y]:a.value.includes("left")})));return{hover:s,submenuRef:u,titleClasses:i,menusClasses:d,handleMouseenter:l=>{e.disabled||(s.value=!0,t("mouseenter",l),m((()=>{const e=[];if(o){const{target:t}=l,n=t.getBoundingClientRect();if(!u.value)return;const o=u.value.clientWidth,a=u.value.clientHeight;n.right+o>=window.innerWidth?e.push("left"):e.push("right"),n.bottom+a>=window.innerHeight?e.push("bottom"):e.push("top")}a.value=e})))},handleMouseleave:l=>{e.disabled||(s.value=!1,t("mouseleave",l))}}},render(){var e,t,l,n;return d("li",{class:W,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[d("div",{class:this.titleClasses},[(null==(t=(e=this.$slots).title)?void 0:t.call(e))||this.title,d("span",{class:X},[d(z,{name:"right-arrow"},null)])]),this.hover?d("div",{ref:"submenuRef",class:this.menusClasses},[d("ul",{class:B},[null==(n=(l=this.$slots).default)?void 0:n.call(l)])]):null])}}),Q=t({name:"VContextmenuGroup",props:{title:{type:String,default:void 0},maxWidth:{type:[Number,String],default:void 0}},setup:e=>({style:n((()=>{if(e.maxWidth)return{"max-width":"number"==typeof e.maxWidth?`${e.maxWidth}px`:e.maxWidth,"overflow-x":"auto"}}))}),methods:{renderTitle(){var e,t;const l=(null==(t=(e=this.$slots).title)?void 0:t.call(e))||this.title;return l?d("div",{class:A},[l]):null}},render(){var e,t;return d("li",{class:I},[this.renderTitle(),d("ul",{style:this.style,class:T},[null==(t=(e=this.$slots).default)?void 0:t.call(e)])])}}),Z={install:e=>{e.directive("contextmenu",R),e.component(q.name,q),e.component(F.name,F),e.component(J.name,J),e.component(K.name,K),e.component(Q.name,Q)},version:"3.0.0"};var ee={header:"_header_10b0x_1",nav:"_nav_10b0x_7",logo:"_logo_10b0x_14",navItem:"_navItem_10b0x_19",navItemDisabled:"_navItemDisabled_10b0x_24",title:"_title_10b0x_36",description:"_description_10b0x_42",badge:"_badge_10b0x_46",badges:"_badges_10b0x_49",actions:"_actions_10b0x_55",action:"_action_10b0x_55",setup:"_setup_10b0x_61",setups:"_setups_10b0x_67",setupButton:"_setupButton_10b0x_75",setupButtonDocIcon:"_setupButtonDocIcon_10b0x_87",setupLabel:"_setupLabel_10b0x_91",setupContent:"_setupContent_10b0x_101"};const te=[{url:"https://img.shields.io/github/stars/heynext/v-contextmenu?logo=github&style=flat",link:"https://github.com/heynext/v-contextmenu",title:"stars"},{url:"https://img.shields.io/github/forks/heynext/v-contextmenu?logo=github&style=flat",link:"https://github.com/heynext/v-contextmenu",title:"fork"},{url:"https://img.shields.io/npm/dw/v-contextmenu?logo=npm&style=flat",link:"https://www.npmjs.com/package/v-contextmenu",title:"downloads"}],le=t({name:"SiteBanner",setup:()=>()=>d(g,null,[i(d("header",{class:ee.header},[d("nav",{class:[ee.nav,"container"]},[d("div",{class:ee.navLeft},[d("span",{class:ee.logo},[d("a",{href:"https://github.com/heynext/v-contextmenu",target:"__blank"},[d(v,null,null)])])]),d("div",{class:ee.navRight},[d("span",{class:ee.navItem},[d("a",{href:"v2",target:"__blank"},[h("2.x 文档")])]),d("span",{class:ee.navItem},[d("a",{href:"https://heynext.xyz",target:"__blank"},[h("关于")])])])]),d("h1",{class:ee.title},[h("VContextmenu")]),d("p",{class:ee.description},[h("适用于"),d("code",null,[h(" Vue 3.0 ")]),h("的"),d("code",null,[h(" Contextmenu ")]),h("组件。")]),d("div",{class:ee.badges},[te.map(((e,t)=>d("a",{key:t,href:e.link,title:e.title,class:ee.badge},[d("img",{class:ee.badgeImage,src:e.url,alt:e.title},null)])))]),d("div",{class:ee.setups},[d("div",{class:ee.setup},[d("a",{href:"https://github.com/heynext/v-contextmenu/blob/main/docs/usage.md",target:"__blank"},[d("button",{class:ee.setupButton},[h("文档 "),d("span",{class:ee.setupButtonDocIcon},[d(x,null,null)])])])]),d("div",{class:ee.setup},[d("code",null,[d("span",{class:ee.setupLabel},[h("NPM")]),d("span",{class:ee.setupContent},[h("npm i v-contextmenu@next")])])]),d("div",{class:ee.setup},[d("code",null,[d("span",{class:ee.setupLabel},[h("CDN")]),d("span",{class:ee.setupContent},[h("https://unpkg.com/v-contextmenu@next")])])])])]),[[b("contextmenu"),null,"contextmenu"]]),d(q,{ref:"contextmenu"},{default:()=>[d(F,{onClick:()=>{window.open("https://github.com/heynext/v-contextmenu")}},{default:()=>[h("GitHub")]}),d(F,{onClick:()=>{window.open("https://www.npmjs.com/package/v-contextmenu")}},{default:()=>[h("NPM")]}),d(F,{onClick:()=>{window.open("https://github.com/heynext/v-contextmenu/blob/main/docs/usage.md")}},{default:()=>[h("Document")]})]})])});var ne="_example_7w9if_1",ue="_demo_7w9if_16",oe="_content_7w9if_19",ae="_title_7w9if_28",se="_description_7w9if_32",ie="_codepens_7w9if_35",de="_codepenIframe_7w9if_41";const re=t({name:"SiteExample",props:{codepens:{type:[String,Array],required:!0},title:String,description:String,hideDemo:Boolean,mirror:Boolean,codepenDefaultTab:{type:Array,default:()=>["html","vue","result"]}},setup(e,{slots:t}){const l=n((()=>Array.isArray(e.codepens)?e.codepens:[e.codepens]));return()=>{var n,u;return d("div",{class:[ne,"container"]},[!e.hideDemo&&!e.mirror&&d("div",{class:ue},[null==(n=t.default)?void 0:n.call(t)]),d("div",{class:oe},[d("div",{class:ae},[t.title?t.title():e.title]),d("div",{class:se},[t.description?t.description():e.description]),d("div",{class:ie},[l.value.map((t=>d("iframe",{key:t,class:de,scrolling:"no",title:t,src:`https://codepen.io/heynext/embed/${t}?height=265&theme-id=light&default-tab=${e.codepenDefaultTab.join(",")}`,frameborder:"no"},null)))])]),!e.hideDemo&&e.mirror&&d("div",{class:ue},[null==(u=t.default)?void 0:u.call(t)])])}}});var ce="_footer_w5ots_1",me="_link_w5ots_10";const pe=t({name:"SiteFooter",setup:()=>()=>d("footer",{class:ce},[d("span",null,[h("Created with ❤ by ")]),d("a",{class:me,href:"https://github.com/heynext"},[h("@heynext")]),d("span",null,[h("  ⦙   © 2020 MIT License")])])}),fe={display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",border:"3px dashed rgba(90, 167, 164, 0.9)",borderRadius:"8px",backgroundColor:"rgba(90, 167, 164, 0.2)"},ve=t({name:"TriggerBox",setup:(e,{slots:t})=>()=>{var e;return d("div",{style:fe},[null==(e=t.default)?void 0:e.call(t)])}}),he=t({name:"ExampleSimple",setup:()=>()=>d(g,null,[i(d("div",{style:{height:"100%"}},[d(ve,null,{default:()=>[d("code",null,[h("右键点击此区域")])]})]),[[b("contextmenu"),null,"contextmenu"]]),d(q,{ref:"contextmenu"},{default:()=>[d(F,null,{default:()=>[d(v,null,null),h(" GitHub")]}),d(F,null,{default:()=>[d(_,null,null),h(" GitLab")]}),d(J,null,null),d(K,{title:"蔬菜菜"},{default:()=>[d(F,null,{default:()=>[h("土豆")]}),d(F,null,{default:()=>[h("黄瓜")]}),d(K,{title:"青菜"},{default:()=>[d(F,null,{default:()=>[h("小油菜")]}),d(F,null,{default:()=>[h("空心菜")]}),d(F,null,{default:()=>[h("紫罗兰")]})]})]}),d(F,{disabled:!0},{default:()=>[h("菠萝蜜")]}),d(J,null,null),d(F,null,{default:()=>[h("哈密瓜")]})]})])}),xe=t({name:"ExampleGroup",setup:()=>()=>d(g,null,[i(d("div",{style:{height:"100%"}},[d(ve,null,{default:()=>[d("code",null,[h("右键点击此区域")])]})]),[[b("contextmenu"),null,"contextmenu"]]),d(q,{ref:"contextmenu"},{default:()=>[d(F,null,{default:()=>[h("菜单")]}),d(Q,null,{default:()=>[d(F,null,{default:()=>[d(v,null,null)]}),d(F,null,{default:()=>[d(y,null,null)]}),d(F,{disabled:!0},{default:()=>[d(w,null,null)]}),d(F,null,{default:()=>[d(C,null,null)]})]}),d(J,null,null),d(Q,{title:"按钮组"},{default:()=>[d(F,null,{default:()=>[h("菜单1")]}),d(F,null,{default:()=>[h("菜单2")]}),d(F,{disabled:!0},{default:()=>[h("菜单3")]})]})]})])}),ge=t({name:"ExampleDynamic",setup(){const e=u([]);return()=>d(g,null,[i(d("div",{style:{height:"100%"}},[d(ve,null,{default:()=>[d("code",null,[h("右键点击此区域")])]})]),[[b("contextmenu"),null,"contextmenu"]]),d(q,{ref:"contextmenu"},{default:()=>[d(Q,{title:"操作"},{default:()=>[d(F,{hideOnClick:!1,onClick:()=>{e.push("item")}},{default:()=>[h("添加菜单")]}),d(F,{hideOnClick:!1,onClick:()=>{e.push("group")}},{default:()=>[h("添加菜单组")]}),d(F,{hideOnClick:!1,onClick:()=>{e.push("submenu")}},{default:()=>[h("添加子菜单")]}),d(F,{hideOnClick:!1,onClick:()=>{e.pop()}},{default:()=>[h("删除")]})]}),e.map(((e,t)=>{const l=[d(J,null,null)];return"group"===e?l.push(d(Q,{title:`菜单组 ${t+1}`},{default:()=>[d(F,null,{default:()=>[h("菜单1")]}),d(F,null,{default:()=>[h("菜单2")]}),d(F,null,{default:()=>[h("菜单3")]})]})):"submenu"===e?l.push(d(K,{title:`子菜单 ${t+1}`},{default:()=>[d(F,null,{default:()=>[h("菜单1")]}),d(F,null,{default:()=>[h("菜单2")]}),d(F,null,{default:()=>[h("菜单3")]})]})):l.push(d(F,null,{default:()=>[h("菜单 "),t+1]})),l}))]})])}}),be=t({name:"ExampleMultiple",setup:()=>()=>d(g,null,[d("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},[i(d("div",{style:{height:"100%"}},[d(ve,null,{default:()=>[d("code",null,[h("右键点击此区域")])]})]),[[b("contextmenu"),null,"contextmenu"]]),i(d("div",{style:{marginTop:"12px",height:"100%"}},[d(ve,null,{default:()=>[d("code",null,[h("右键点击此区域")])]})]),[[b("contextmenu"),null,"contextmenu"]]),i(d("div",{style:{marginTop:"12px",height:"100%"}},[d(ve,null,{default:()=>[d("code",null,[h("右键点击此区域")])]})]),[[b("contextmenu"),null,"contextmenu1"]])]),d(q,{ref:"contextmenu"},{default:()=>[d(F,null,{default:()=>[d(v,null,null),h(" GitHub")]}),d(F,null,{default:()=>[d(_,null,null),h(" GitLab")]})]}),d(q,{ref:"contextmenu1"},{default:()=>[d(K,{title:"蔬菜菜"},{default:()=>[d(F,null,{default:()=>[h("土豆")]}),d(F,null,{default:()=>[h("黄瓜")]}),d(K,{title:"青菜"},{default:()=>[d(F,null,{default:()=>[h("小油菜")]}),d(F,null,{default:()=>[h("空心菜")]}),d(F,null,{default:()=>[h("紫罗兰")]})]})]})]})])}),_e=t({name:"ExampleCustomTrigger",setup:()=>()=>d(g,null,[d("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},[i(d("div",{style:{height:"100%"}},[d(ve,null,{default:()=>[d("code",null,[h("左键点击此区域")])]})]),[[b("contextmenu"),{trigger:"click"},"contextmenu"]]),i(d("div",{style:{marginTop:"12px",height:"100%"}},[d(ve,null,{default:()=>[d("code",null,[h("左键或右键点击此区域")])]})]),[[b("contextmenu"),{trigger:["click","contextmenu"]},"contextmenu"]]),i(d("div",{style:{marginTop:"12px",height:"100%"}},[d(ve,null,{default:()=>[d("code",null,[h("左键双击此区域")])]})]),[[b("contextmenu"),{trigger:"dblclick"},"contextmenu"]])]),d(q,{ref:"contextmenu"},{default:()=>[d(F,null,{default:()=>[h("菜单")]}),d(J,null,null),d(Q,{title:"按钮组"},{default:()=>[d(F,null,{default:()=>[h("菜单1")]}),d(F,null,{default:()=>[h("菜单2")]}),d(F,{disabled:!0},{default:()=>[h("菜单3")]})]})]})])}),ye=t({name:"ExampleCustomShow",setup(){const e=l(),t=l(),n=()=>{var l;if(!t.value)return;const n=t.value.getBoundingClientRect(),u={top:Math.random()*n.height+n.top+window.scrollY,left:Math.random()*n.width+n.left+window.scrollX};null==(l=e.value)||l.show(u)},u=()=>{var t;null==(t=e.value)||t.hide()};return()=>d(g,null,[i(d("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},[d("div",null,[d("button",{type:"button",onClick:n},[h("显示")]),d("button",{type:"button",onClick:u,style:{marginLeft:"6px"}},[h("隐藏")])]),d("div",{ref:t,style:{flex:1,marginTop:"12px"}},[d(ve,null,{default:()=>[d("code",null,[h("显示区域")])]})])]),[[b("contextmenu"),null,e]]),d(q,{ref:e},{default:()=>[d(F,null,{default:()=>[h("菜单")]}),d(K,{title:"蔬菜菜"},{default:()=>[d(F,null,{default:()=>[h("土豆")]}),d(F,null,{default:()=>[h("黄瓜")]}),d(K,{title:"青菜"},{default:()=>[d(F,null,{default:()=>[h("小油菜")]}),d(F,null,{default:()=>[h("空心菜")]}),d(F,null,{default:()=>[h("紫罗兰")]})]})]}),d(J,null,null),d(Q,{title:"按钮组"},{default:()=>[d(F,null,{default:()=>[h("菜单1")]}),d(F,null,{default:()=>[h("菜单2")]}),d(F,{disabled:!0},{default:()=>[h("菜单3")]})]})]})])}});const we=k(t({name:"SiteApp",render:()=>d(g,null,[d(le,null,null),d("main",{class:"main"},[d(re,{title:"基本使用",description:"菜单、分割线、子菜单和禁用",codepens:"xxgejzQ"},{default:()=>[d(he,null,null)]}),d(re,{mirror:!0,title:"按钮组",description:"按钮可以成组展示",codepens:"vYgwmmL"},{default:()=>[d(xe,null,null)]}),d(re,{title:"动态菜单",description:"动态删减菜单",codepens:"yLgWXre"},{default:()=>[d(ge,null,null)]}),d(re,{mirror:!0,title:"多实例和触发区域",description:"多个 Contextmenu 实例和触发区域",codepens:"rNjgJRg"},{default:()=>[d(be,null,null)]}),d(re,{title:"自定义事件",description:"自定义触发的事件",codepens:"OJWYvpE"},{default:()=>[d(_e,null,null)]}),d(re,{mirror:!0,title:"手动显示和隐藏",description:"手动控制显示和隐藏",codepens:"eYgwmwy"},{default:()=>[d(ye,null,null)]}),d(re,{hideDemo:!0,title:"多主题",codepenDefaultTab:["result"],description:"内置三种主题：默认、亮色和暗色，你也可以自定义你自己的样式",codepens:["BapeePd","gOgJJqW","XWpwwOw","ExZBagv"]},null)]),d(pe,null,null)])}));we.use(Z),we.mount("#app");
